---
layout: post

title: "DB-Note-1：一条SQL是如何执行的"

date: 2018-12-30 8:50:20 +0300

description:  

cover: 'https://jc-1258611203.cos.ap-beijing.myqcloud.com/blog/2019-03-29-MySQL-header.png'

color: rgb(125,215,0)

tags: [MySQL]

---



### 一条最简单的sql语句

工作中使用MySQL，业务逻辑中经常要写sql、封装sql甚至利用工具生成配置sql，也对sql的执行过程大概知道一二，认真听习了林晓斌老师（淘宝核心系统数据库组技术专家）的演讲之后，梳理一下sql的执行，就用老师的例子从一条最简单的sql开始吧。

```shell
mysql> select * from T where ID = user1
```

比如有一个最简单的表，只有一个ID字段，我们输入上面的查询语句就可以返回一个结果，如果我们知道了这条语句的内部执行过程或者流程，就会方便我们使用内部视野更深入去分析sql异常等问题。在这之前，还是先来简单地画个基本架构图。

![](https://jc-1258611203.cos.ap-beijing.myqcloud.com/blog/2019-03-02-MySQL-structure.jpg)

MySQL 可以分为 Server 层和存储引擎层两部分。Server 层包括连接器、查询缓存、分析器、优化器、执行器等。涵盖了MySQL大部分的服务功能、所有内置函数，所有跨存储引擎的功能均在此层实现，例如存储过程、触发器、视图等等。



























